#!/usr/bin/env tclsh

package require Tclx

set wmName [exec enrich-path wm - get-wm-name]
set menuName [lindex $::argv 0]

switch -exact $wmName {
    herbstluftwm {
        execl enrich-path [list wm/herbstluft - with-env call-menu $menuName]
    }
    default {
        execl run-menu [list -e "Menu: $menuName not supported"]
    }
}
